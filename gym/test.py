import matplotlib.pyplot as plt
import numpy as np
import math

from analyse import plot_compare, validate_reward
from benchdata import exp4_benchmark_data

def analyse_test():
    result, ep_r = exp4_benchmark_data()
    
    result, ep_r = [23497584.0, 22997584.0, 24319360.0, 25143448.0, 34772872.0, 20464000.0, 27250696.0, 22694264.0, 21405464.0, 28985568.0, 26156640.0, 29309392.0, 37208368.0, 22504864.0, 31965352.0, 22857664.0, 34231296.0, 28966144.0, 20019632.0, 23140648.0, 18906912.0, 19425176.0, 22900568.0, 20867320.0, 20299784.0, 27438216.0, 30299560.0, 22138144.0, 22047888.0, 20131968.0, 27015552.0, 24554544.0, 23599904.0, 17774776.0, 18929208.0, 22934000.0, 22339624.0, 18681328.0, 20341272.0, 21056744.0, 23569456.0, 26003472.0, 18661232.0, 23372032.0, 25349440.0, 24519880.0, 25796096.0, 17904880.0, 18659896.0, 18457760.0, 19798744.0, 21756784.0, 21787000.0, 27206280.0, 18785224.0, 27264600.0, 17205248.0, 20287856.0, 18218536.0, 20352920.0, 17892136.0, 18092392.0, 17375888.0, 21035024.0, 25857824.0, 25435464.0, 20818368.0, 26619728.0, 19154168.0, 25518336.0, 24770360.0, 34208464.0, 25563600.0, 27102360.0, 20556264.0, 28990328.0, 18637784.0, 27149088.0, 22442072.0, 16584440.0, 18736256.0, 27489616.0, 20813304.0, 20160896.0, 24099832.0, 20290504.0, 19269280.0, 19685136.0, 23924312.0, 19777960.0, 22091368.0, 24247368.0, 19240584.0], [-3198.6201679041633, -3729.8617002169794, -3313.0734344196153, -3821.3807859303947, -5060.121906908398, -3281.720269770806, -5875.174412916336, -3926.921282404654, -3014.094136727462, -3483.042169036234, -4307.597480578079, -5236.546418244229, -5986.759300064395, -3047.5837826270176, -6172.569598121755, -3562.5507983173247, -5296.835294658783, -5790.607645227119, -3086.740666527937, -3417.5527331151, -3095.962411079828, -3249.676008195461, -4010.362030858086, -3996.803372888358, -3544.606831939024, -5276.29181385793, -5496.249944218281, -3520.862366872791, -3338.372106432246, -3204.9640489999515, -4930.587662090305, -4289.610357586747, -4047.88911056202, -2736.020031047793, -3125.599724573985, -4118.68468860053, -3994.9556136431397, -3041.54727891026, -3094.2913105787115, -3708.930060428708, -3348.3804129197656, -4823.855760794015, -2786.050908737246, -3899.4066745646915, -4904.418979561288, -4890.334098223386, -5191.126044348635, -2819.1074665202823, -2889.162005701579, -2741.867477732676, -3364.206810795869, -3738.437276621412, -3963.529795323056, -5210.2867977045225, -3122.247042932133, -4709.642798159045, -2657.930436084064, -3570.0751927624897, -2807.777355437476, -3288.4310299143103, -2896.1464838494076, -3079.1239799201626, -2731.358722568022, -3669.851143148002, -4499.726798060546, -5370.732786784291, -3300.584913882676, -5091.440136073959, -3330.2221892766834, -4588.338638696497, -4930.395593519889, -8146.008297237953, -5333.87431436872, -5309.6607803712095, -3471.0612402381335, -5431.609377479542, -2872.188782494184, -4262.011485768823, -3243.2653958663623, -2676.135846247428, -3091.197779509863, -5510.889463577081, -3744.2490786534745, -3316.464658104052, -4448.460841380954, -3451.034334198058, -3301.0704225253635, -3024.046720556185, -3644.7751992155813, -3220.881454506482, -3854.3128261116976, -4593.018765955543, -3378.2652376364863]





    print("Number of samples:", len(result))
    validate_reward(result, ep_r)
    plot_compare(result, ep_r)
    plt.show()

def f():
    from scipy.stats import gaussian_kde
    import seaborn as sns
    a = np.array([1,1,1,1,2,2,2,3,3,4])
    kernel = gaussian_kde(a)

    sns.distplot(a)

    print(type(kernel))
    x = np.linspace(-1, 6, 100)
    print(kernel.integrate_box(-math.inf, 5))
    y = kernel.pdf(x)
    plt.figure()
    plt.plot(x, y)
    plt.show()
    

if __name__ == "__main__":
    pass
    analyse_test()
    # f()